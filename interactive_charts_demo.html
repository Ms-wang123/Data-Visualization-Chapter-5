<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬5ç« äº¤äº’å¼å›¾è¡¨æ¼”ç¤º</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        nav {
            background: #f8f9fa;
            padding: 20px;
            border-bottom: 1px solid #dee2e6;
        }
        
        .nav-tabs {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .nav-tab {
            padding: 12px 24px;
            background: white;
            border: 2px solid #dee2e6;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .nav-tab:hover {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .nav-tab.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        
        main {
            padding: 30px;
        }
        
        .content-section {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .content-section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .chart-container {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }
        
        .chart-title {
            font-size: 1.5em;
            color: #333;
            margin-bottom: 15px;
            text-align: center;
            font-weight: bold;
        }
        
        .description {
            background: #e7f3ff;
            border-left: 4px solid #2196F3;
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .description h3 {
            color: #1976D2;
            margin-bottom: 10px;
        }
        
        .grid-layout {
            display: grid;
            gap: 20px;
            margin: 20px 0;
        }
        
        .grid-2x2 { grid-template-columns: 1fr 1fr; grid-template-rows: 1fr 1fr; }
        .grid-1x2 { grid-template-columns: 2fr 1fr; grid-template-rows: 2fr 1fr; }
        .grid-1x1 { grid-template-columns: 1fr; }
        
        .chart-wrapper {
            min-height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            border-radius: 10px;
            padding: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        @media (max-width: 768px) {
            .nav-tabs { flex-direction: column; align-items: center; }
            .grid-2x2, .grid-1x2 { grid-template-columns: 1fr; }
            header h1 { font-size: 2em; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ“Š ç¬¬5ç« äº¤äº’å¼å›¾è¡¨æ¼”ç¤º</h1>
            <p>å°†Matplotlibé™æ€å›¾è¡¨è½¬æ¢ä¸ºPlotlyäº¤äº’å¼ç»„ä»¶</p>
        </header>
        
        <nav>
            <div class="nav-tabs">
                <div class="nav-tab active" data-section="section-51">5.1 å›ºå®šåŒºåŸŸå­å›¾</div>
                <div class="nav-tab" data-section="section-52">5.2 è‡ªå®šä¹‰åŒºåŸŸå­å›¾</div>
                <div class="nav-tab" data-section="section-53">5.3 å…±äº«åæ ‡è½´</div>
                <div class="nav-tab" data-section="section-54">5.4 å­å›¾å¸ƒå±€</div>
            </div>
        </nav>
        
        <main>
            <!-- 5.1 å›ºå®šåŒºåŸŸå­å›¾ -->
            <div id="section-51" class="content-section active">
                <div class="description">
                    <h3>5.1 å›ºå®šåŒºåŸŸå­å›¾ - æ¦‚è¿°</h3>
                    <p>ä½¿ç”¨subplot()å’Œsubplots()åˆ›å»ºè§„åˆ™å¸ƒå±€çš„å­å›¾ï¼Œæ”¯æŒç­‰åˆ†åŒºåŸŸçš„å›¾è¡¨æ’åˆ—ã€‚</p>
                </div>
                
                <div class="chart-container">
                    <div class="chart-title">äº§å“Aä¸äº§å“Bé”€å”®é¢å¯¹æ¯”</div>
                    <div class="grid-layout grid-2x2">
                        <div id="chart51-1" class="chart-wrapper"></div>
                        <div id="chart51-2" class="chart-wrapper"></div>
                        <div id="chart51-3" class="chart-wrapper"></div>
                        <div id="chart51-4" class="chart-wrapper"></div>
                    </div>
                </div>
            </div>
            
            <!-- 5.2 è‡ªå®šä¹‰åŒºåŸŸå­å›¾ -->
            <div id="section-52" class="content-section">
                <div class="description">
                    <h3>5.2 è‡ªå®šä¹‰åŒºåŸŸå­å›¾ - æ¦‚è¿°</h3>
                    <p>ä½¿ç”¨subplot2grid()åˆ›å»ºä¸è§„åˆ™å¸ƒå±€çš„å­å›¾ï¼Œå¯ä»¥è·¨è¡Œè·¨åˆ—å®ç°å¤æ‚å¸ƒå±€ã€‚</p>
                </div>
                
                <div class="chart-container">
                    <div class="chart-title">2017å¹´ä¸2018å¹´æŠ–éŸ³ç”¨æˆ·åˆ†æ</div>
                    <div class="grid-layout grid-1x2">
                        <div id="chart52-1" class="chart-wrapper" style="grid-row: 1; grid-column: 1 / span 2;"></div>
                        <div id="chart52-2" class="chart-wrapper" style="grid-row: 2; grid-column: 1;"></div>
                        <div id="chart52-3" class="chart-wrapper" style="grid-row: 2; grid-column: 2;"></div>
                    </div>
                </div>
            </div>
            
            <!-- 5.3 å…±äº«åæ ‡è½´ -->
            <div id="section-53" class="content-section">
                <div class="description">
                    <h3>5.3 å…±äº«åæ ‡è½´ - æ¦‚è¿°</h3>
                    <p>å¤šä¸ªå­å›¾å…±äº«åŒä¸€åæ ‡è½´ï¼Œä¾¿äºæ•°æ®å¯¹æ¯”åˆ†æã€‚</p>
                </div>
                
                <div class="chart-container">
                    <div class="chart-title">æ°”æ¸©ä¸é™æ°´é‡ã€è’¸å‘é‡çš„å…³ç³»</div>
                    <div id="chart53" class="chart-wrapper" style="height: 500px;"></div>
                </div>
            </div>
            
            <!-- 5.4 å­å›¾å¸ƒå±€ -->
            <div id="section-54" class="content-section">
                <div class="description">
                    <h3>5.4 å­å›¾å¸ƒå±€ - æ¦‚è¿°</h3>
                    <p>çµæ´»çš„å­å›¾å¸ƒå±€æ–¹å¼ï¼šçº¦æŸå¸ƒå±€ã€ç´§å¯†å¸ƒå±€ã€è‡ªå®šä¹‰å¸ƒå±€ã€‚</p>
                </div>
                
                <div class="chart-container">
                    <div class="chart-title">2018å¹´ä¸ŠåŠå¹´æ±½è½¦é”€å”®æƒ…å†µ</div>
                    <div class="grid-layout grid-2x2">
                        <div id="chart54-1" class="chart-wrapper" style="grid-column: 1 / span 2;"></div>
                        <div id="chart54-2" class="chart-wrapper"></div>
                        <div id="chart54-3" class="chart-wrapper"></div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // æ•°æ®å®šä¹‰
        const chartData = {
            // 5.1 äº§å“é”€å”®æ•°æ®
            productSales: {
                months: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ', '7æœˆ', '8æœˆ', '9æœˆ', '10æœˆ', '11æœˆ', '12æœˆ'],
                productA: [20, 28, 23, 16, 29, 36, 39, 33, 31, 19, 21, 25],
                productB: [17, 22, 39, 26, 35, 23, 25, 27, 29, 38, 28, 20]
            },
            
            // 5.2 æŠ–éŸ³ç”¨æˆ·æ•°æ®
            douyinData: {
                labels: ['ä¸€çº¿åŸå¸‚', 'äºŒçº¿åŸå¸‚', 'ä¸‰çº¿åŸå¸‚', 'å››çº¿åŠä»¥å¤–', 'å…¶ä»–å›½å®¶åŠåœ°åŒº'],
                growth2017: [21, 35, 22, 19, 3],
                growth2018: [13, 32, 27, 27, 1],
                growthMultiple: [51, 73, 99, 132, 45],
                distribution2017: [21, 35, 22, 19, 3],
                distribution2018: [13, 32, 27, 27, 1]
            },
            
            // 5.3 æ°”è±¡æ•°æ®
            weatherData: {
                months: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ', '7æœˆ', '8æœˆ', '9æœˆ', '10æœˆ', '11æœˆ', '12æœˆ'],
                temperature: [2.0, 2.2, 3.3, 4.5, 6.3, 10.2, 20.3, 33.4, 23.0, 16.5, 12.0, 6.2],
                precipitation: [2.6, 5.9, 9.0, 26.4, 28.7, 70.7, 175.6, 182.2, 48.7, 18.8, 6.0, 2.3],
                evaporation: [2.0, 4.9, 7.0, 23.2, 25.6, 76.7, 135.6, 162.2, 32.6, 20.0, 6.4, 3.3]
            },
            
            // 5.4 æ±½è½¦é”€å”®æ•°æ®
            carSales: {
                months: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ'],
                sales: [2150, 1050, 1560, 1480, 1530, 1490],
                cities: ['åŒ—äº¬', 'ä¸Šæµ·', 'å¹¿å·', 'æ·±åœ³', 'æµ™æ±Ÿ', 'å±±ä¸œ'],
                salesCount: [83775, 62860, 59176, 64205, 48671, 39968]
            }
        };
        
        // å¯¼èˆªåˆ‡æ¢åŠŸèƒ½
        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                // ç§»é™¤æ‰€æœ‰activeç±»
                document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.content-section').forEach(s => s.classList.remove('active'));
                
                // æ·»åŠ activeç±»åˆ°å½“å‰é€‰ä¸­çš„
                this.classList.add('active');
                const sectionId = this.getAttribute('data-section');
                document.getElementById(sectionId).classList.add('active');
                
                // åˆå§‹åŒ–å¯¹åº”éƒ¨åˆ†çš„å›¾è¡¨
                initializeSection(sectionId);
            });
        });
        
        // åˆå§‹åŒ–å¯¹åº”éƒ¨åˆ†çš„å›¾è¡¨
        function initializeSection(sectionId) {
            switch(sectionId) {
                case 'section-51':
                    updateChart51();
                    break;
                case 'section-52':
                    updateChart52();
                    break;
                case 'section-53':
                    updateChart53();
                    break;
                case 'section-54':
                    updateChart54();
                    break;
            }
        }
        
        // 5.1 å›ºå®šåŒºåŸŸå­å›¾åŠŸèƒ½
        function updateChart51() {
            const data = chartData.productSales;
            
            // ç¬¬ä¸€ä¸ªå­å›¾ï¼šæŠ˜çº¿å›¾
            const trace1 = {
                x: data.months,
                y: data.productA,
                type: 'scatter',
                mode: 'lines+markers',
                name: 'äº§å“A',
                line: { color: 'magenta', width: 2 },
                marker: { size: 5 }
            };
            
            const trace2 = {
                x: data.months,
                y: data.productB,
                type: 'scatter',
                mode: 'lines+markers',
                name: 'äº§å“B',
                line: { color: 'green', width: 2 },
                marker: { size: 5 }
            };
            
            Plotly.newPlot('chart51-1', [trace1, trace2], {
                title: 'äº§å“Aä¸äº§å“Bçš„é”€å”®é¢',
                xaxis: { title: 'æœˆä»½' },
                yaxis: { title: 'é”€å”®é¢(äº¿å…ƒ)', range: [10, 45] },
                margin: { t: 40, r: 20, b: 60, l: 60 }
            });
            
            // ç¬¬äºŒä¸ªå­å›¾ï¼šäº§å“Aé¥¼å›¾
            const pie1 = {
                labels: data.months,
                values: data.productA,
                type: 'pie',
                name: 'äº§å“Aé”€å”®é¢',
                hole: 0.5,
                marker: { colors: ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7', '#DDA0DD', '#98D8C8', '#F7DC6F', '#BB8FCE', '#85C1E2', '#F8B739', '#52D726'] }
            };
            
            Plotly.newPlot('chart51-2', [pie1], {
                title: 'äº§å“Açš„é”€å”®é¢',
                margin: { t: 40, r: 20, b: 20, l: 20 }
            });
            
            // ç¬¬ä¸‰ä¸ªå­å›¾ï¼šäº§å“Bé¥¼å›¾
            const pie2 = {
                labels: data.months,
                values: data.productB,
                type: 'pie',
                name: 'äº§å“Bé”€å”®é¢',
                hole: 0.5,
                marker: { colors: ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7', '#DDA0DD', '#98D8C8', '#F7DC6F', '#BB8FCE', '#85C1E2', '#F8B739', '#52D726'] }
            };
            
            Plotly.newPlot('chart51-3', [pie2], {
                title: 'äº§å“Bçš„é”€å”®é¢',
                margin: { t: 40, r: 20, b: 20, l: 20 }
            });
            
            // ç¬¬å››ä¸ªå­å›¾ï¼šç©ºçš„ï¼ˆä¿æŒå¸ƒå±€ä¸€è‡´æ€§ï¼‰
            Plotly.newPlot('chart51-4', [], {
                title: 'é¢„ç•™ä½ç½®',
                margin: { t: 40, r: 20, b: 20, l: 20 }
            });
        }
        
        // 5.2 è‡ªå®šä¹‰åŒºåŸŸå­å›¾åŠŸèƒ½
        function updateChart52() {
            const data = chartData.douyinData;
            
            // ç¬¬ä¸€ä¸ªå¤§å­å›¾ï¼šå¢é•¿å€æ•°æŸ±çŠ¶å›¾
            const growthTrace = {
                x: data.labels,
                y: data.growthMultiple,
                type: 'bar',
                name: 'å¢é•¿å€æ•°',
                marker: { color: '#20B2AA', width: 0.5 }
            };
            
            // æ·»åŠ å¹³å‡çº¿
            const averageLine = {
                x: data.labels,
                y: Array(data.labels.length).fill(75),
                type: 'scatter',
                mode: 'lines',
                name: 'å¹³å‡å¢é•¿å€æ•°',
                line: { color: 'gray', width: 1, dash: 'dash' }
            };
            
            Plotly.newPlot('chart52-1', [growthTrace, averageLine], {
                title: 'æŠ–éŸ³2018vs2017äººç¾¤å¢é•¿å€æ•°',
                xaxis: { title: 'åœ°åŒº' },
                yaxis: { title: 'å¢é•¿å€æ•°', range: [0, 160] },
                margin: { t: 40, r: 20, b: 80, l: 60 }
            });
            
            // ç¬¬äºŒä¸ªå­å›¾ï¼š2017å¹´ç”¨æˆ·åˆ†å¸ƒ
            const pie2017 = {
                labels: data.labels,
                values: data.distribution2017,
                type: 'pie',
                name: '2017å¹´æŠ–éŸ³ç”¨æˆ·åœ°åŒºåˆ†å¸ƒ',
                marker: { colors: ['#2F4F4F', '#FF0000', '#A9A9A9', '#FFD700', '#B0C4DE'] }
            };
            
            Plotly.newPlot('chart52-2', [pie2017], {
                title: '2017å¹´æŠ–éŸ³ç”¨æˆ·åœ°åŒºåˆ†å¸ƒçš„æ¯”ä¾‹',
                margin: { t: 40, r: 20, b: 20, l: 20 }
            });
            
            // ç¬¬ä¸‰ä¸ªå­å›¾ï¼š2018å¹´ç”¨æˆ·åˆ†å¸ƒ
            const pie2018 = {
                labels: data.labels,
                values: data.distribution2018,
                type: 'pie',
                name: '2018å¹´æŠ–éŸ³ç”¨æˆ·åœ°åŒºåˆ†å¸ƒ',
                marker: { colors: ['#2F4F4F', '#FF0000', '#A9A9A9', '#FFD700', '#B0C4DE'] }
            };
            
            Plotly.newPlot('chart52-3', [pie2018], {
                title: '2018å¹´æŠ–éŸ³ç”¨æˆ·åœ°åŒºåˆ†å¸ƒçš„æ¯”ä¾‹',
                margin: { t: 40, r: 20, b: 20, l: 20 }
            });
        }
        
        // 5.3 å…±äº«åæ ‡è½´å­å›¾åŠŸèƒ½
        function updateChart53() {
            const data = chartData.weatherData;
            const traces = [];
            
            // å †å æŸ±çŠ¶å›¾ - é™æ°´é‡å’Œè’¸å‘é‡
            traces.push({
                x: data.months,
                y: data.evaporation,
                type: 'bar',
                name: 'è’¸å‘é‡',
                marker: { color: 'orange' }
            });
            
            traces.push({
                x: data.months,
                y: data.precipitation,
                type: 'bar',
                name: 'é™æ°´é‡',
                marker: { color: 'green' }
            });
            
            // çº¿å›¾ - æ°”æ¸©ï¼ˆä½¿ç”¨æ¬¡åæ ‡è½´ï¼‰
            traces.push({
                x: data.months,
                y: data.temperature,
                type: 'scatter',
                mode: 'lines+markers',
                name: 'å¹³å‡æ°”æ¸©',
                yaxis: 'y2',
                line: { color: 'magenta', width: 2 },
                marker: { size: 6, symbol: 'circle' }
            });
            
            const layout = {
                title: 'å¹³å‡æ°”æ¸©ä¸é™æ°´é‡ã€è’¸å‘é‡çš„å…³ç³»',
                xaxis: { title: 'æœˆä»½' },
                yaxis: {
                    title: 'æ°´é‡ (ml)',
                    titlefont: { color: '#1f77b4' },
                    tickfont: { color: '#1f77b4' }
                },
                yaxis2: {
                    title: 'æ°”æ¸©(Â°C)',
                    titlefont: { color: '#ff7f0e' },
                    tickfont: { color: '#ff7f0e' },
                    overlaying: 'y',
                    side: 'right'
                },
                barmode: 'stack',
                legend: {
                    x: 0.02,
                    y: 0.98,
                    bgcolor: 'rgba(255, 255, 255, 0.8)',
                    bordercolor: '#333',
                    borderwidth: 1
                },
                margin: { t: 50, r: 60, b: 60, l: 80 }
            };
            
            Plotly.newPlot('chart53', traces, layout);
        }
        
        // 5.4 å­å›¾å¸ƒå±€åŠŸèƒ½
        function updateChart54() {
            const data = chartData.carSales;
            
            // ç¬¬ä¸€ä¸ªå­å›¾ï¼šæœˆåº¦é”€å”®é¢æŸ±çŠ¶å›¾ï¼ˆå æ®æ•´è¡Œï¼‰
            const salesTrace = {
                x: data.months,
                y: data.sales,
                type: 'bar',
                name: 'é”€å”®é¢',
                marker: { color: '#3299CC', width: 0.5 }
            };
            
            const layout1 = {
                title: '2018å¹´ä¸ŠåŠå¹´æŸå“ç‰Œæ±½è½¦çš„é”€å”®é¢',
                yaxis: { title: 'é”€å”®é¢(äº¿å…ƒ)' },
                margin: { t: 40, r: 20, b: 60, l: 60 }
            };
            
            Plotly.newPlot('chart54-1', [salesTrace], layout1);
            
            // ç¬¬äºŒä¸ªå­å›¾ï¼šåˆ†å…¬å¸é”€é‡æŠ˜çº¿å›¾
            const salesCountTrace = {
                x: data.cities,
                y: data.salesCount,
                type: 'scatter',
                mode: 'lines+markers',
                name: 'é”€é‡',
                line: { color: 'magenta', width: 2 },
                marker: { size: 8 }
            };
            
            const layout2 = {
                title: 'åˆ†å…¬å¸æŸå“ç‰Œæ±½è½¦çš„é”€é‡',
                yaxis: { title: 'é”€é‡(è¾†)' },
                margin: { t: 40, r: 20, b: 60, l: 60 }
            };
            
            Plotly.newPlot('chart54-2', [salesCountTrace], layout2);
            
            // ç¬¬ä¸‰ä¸ªå­å›¾ï¼šåˆ†å…¬å¸é”€é‡å †å é¢ç§¯å›¾
            const stackTrace = {
                x: data.cities,
                y: data.salesCount,
                type: 'scatter',
                mode: 'none',
                fill: 'tozeroy',
                name: 'é”€é‡',
                fillcolor: 'rgba(153, 153, 255, 0.5)'
            };
            
            const layout3 = {
                title: 'åˆ†å…¬å¸æŸå“ç‰Œæ±½è½¦çš„é”€é‡',
                yaxis: { title: 'é”€é‡(è¾†)' },
                margin: { t: 40, r: 20, b: 60, l: 60 }
            };
            
            Plotly.newPlot('chart54-3', [stackTrace], layout3);
        }
        
        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–ç¬¬ä¸€ä¸ªéƒ¨åˆ†
        document.addEventListener('DOMContentLoaded', function() {
            updateChart51();
        });
    </script>
</body>
</html>